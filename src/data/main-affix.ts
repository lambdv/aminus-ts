/**
 * Frozen wiki snapshot: Main Affix Distributions
 * Source: Genshin Impact Wiki - Artifacts/Scaling
 * Snapshot date: February 15, 2026
 */

export type Slot = "flower" | "feather" | "sands" | "goblet" | "circlet";

export type StatType = (typeof import("@/core/stat").STAT_TYPES)[number];

export interface MainAffixWeight {
  stat: StatType;
  weight: number;
}

export interface MainAffixTable {
  [slot: string]: MainAffixWeight[];
}

// Main affix weights per slot (100% chance for fixed stats, weighted for variable)
export const MAIN_AFFIX_WEIGHTS: MainAffixTable = {
  flower: [{ stat: "FlatHP", weight: 100 }],
  feather: [{ stat: "FlatATK", weight: 100 }],
  sands: [
    { stat: "HPPercent", weight: 2668 },
    { stat: "ATKPercent", weight: 2666 },
    { stat: "DEFPercent", weight: 2666 },
    { stat: "EnergyRecharge", weight: 1000 },
    { stat: "ElementalMastery", weight: 1000 },
  ],
  goblet: [
    { stat: "HPPercent", weight: 1925 },
    { stat: "ATKPercent", weight: 1925 },
    { stat: "DEFPercent", weight: 1900 },
    { stat: "ElementalMastery", weight: 250 },
    { stat: "PyroDMGBonus", weight: 500 },
    { stat: "ElectroDMGBonus", weight: 500 },
    { stat: "CryoDMGBonus", weight: 500 },
    { stat: "HydroDMGBonus", weight: 500 },
    { stat: "DendroDMGBonus", weight: 500 },
    { stat: "AnemoDMGBonus", weight: 500 },
    { stat: "GeoDMGBonus", weight: 500 },
    { stat: "PhysicalDMGBonus", weight: 500 },
  ],
  circlet: [
    { stat: "HPPercent", weight: 2200 },
    { stat: "ATKPercent", weight: 2200 },
    { stat: "DEFPercent", weight: 2200 },
    { stat: "ElementalMastery", weight: 400 },
    { stat: "CritRate", weight: 1000 },
    { stat: "CritDMG", weight: 1000 },
    { stat: "HealingBonus", weight: 1000 },
  ],
};

// Main stat values by rarity and level
export interface MainStatValueTable {
  [rarity: number]: {
    [level: number]: {
      [stat: string]: number;
    };
  };
}

export const MAIN_STAT_VALUES: MainStatValueTable = {
  5: {
    0: {
      FlatHP: 717,
      FlatATK: 47,
      HPPercent: 0.07,
      ATKPercent: 0.07,
      DEFPercent: 0.087,
      ElementalMastery: 28,
      EnergyRecharge: 0.078,
      PyroDMGBonus: 0.07,
      ElectroDMGBonus: 0.07,
      CryoDMGBonus: 0.07,
      HydroDMGBonus: 0.07,
      DendroDMGBonus: 0.07,
      AnemoDMGBonus: 0.07,
      GeoDMGBonus: 0.07,
      PhysicalDMGBonus: 0.087,
      CritRate: 0.047,
      CritDMG: 0.093,
      HealingBonus: 0.054,
    },
    4: {
      FlatHP: 920,
      FlatATK: 60,
      HPPercent: 0.09,
      ATKPercent: 0.09,
      DEFPercent: 0.112,
      ElementalMastery: 35.9,
      EnergyRecharge: 0.1,
      PyroDMGBonus: 0.09,
      ElectroDMGBonus: 0.09,
      CryoDMGBonus: 0.09,
      HydroDMGBonus: 0.09,
      DendroDMGBonus: 0.09,
      AnemoDMGBonus: 0.09,
      GeoDMGBonus: 0.09,
      PhysicalDMGBonus: 0.112,
      CritRate: 0.06,
      CritDMG: 0.12,
      HealingBonus: 0.069,
    },
    8: {
      FlatHP: 1123,
      FlatATK: 73,
      HPPercent: 0.11,
      ATKPercent: 0.11,
      DEFPercent: 0.137,
      ElementalMastery: 43.8,
      EnergyRecharge: 0.122,
      PyroDMGBonus: 0.11,
      ElectroDMGBonus: 0.11,
      CryoDMGBonus: 0.11,
      HydroDMGBonus: 0.11,
      DendroDMGBonus: 0.11,
      AnemoDMGBonus: 0.11,
      GeoDMGBonus: 0.11,
      PhysicalDMGBonus: 0.137,
      CritRate: 0.073,
      CritDMG: 0.146,
      HealingBonus: 0.084,
    },
    12: {
      FlatHP: 1326,
      FlatATK: 86,
      HPPercent: 0.129,
      ATKPercent: 0.129,
      DEFPercent: 0.162,
      ElementalMastery: 51.8,
      EnergyRecharge: 0.144,
      PyroDMGBonus: 0.129,
      ElectroDMGBonus: 0.129,
      CryoDMGBonus: 0.129,
      HydroDMGBonus: 0.129,
      DendroDMGBonus: 0.129,
      AnemoDMGBonus: 0.129,
      GeoDMGBonus: 0.129,
      PhysicalDMGBonus: 0.162,
      CritRate: 0.086,
      CritDMG: 0.173,
      HealingBonus: 0.1,
    },
    16: {
      FlatHP: 1530,
      FlatATK: 100,
      HPPercent: 0.149,
      ATKPercent: 0.149,
      DEFPercent: 0.186,
      ElementalMastery: 59.7,
      EnergyRecharge: 0.166,
      PyroDMGBonus: 0.149,
      ElectroDMGBonus: 0.149,
      CryoDMGBonus: 0.149,
      HydroDMGBonus: 0.149,
      DendroDMGBonus: 0.149,
      AnemoDMGBonus: 0.149,
      GeoDMGBonus: 0.149,
      PhysicalDMGBonus: 0.186,
      CritRate: 0.099,
      CritDMG: 0.199,
      HealingBonus: 0.115,
    },
    20: {
      FlatHP: 4780,
      FlatATK: 311,
      HPPercent: 0.466,
      ATKPercent: 0.466,
      DEFPercent: 0.583,
      ElementalMastery: 186.5,
      EnergyRecharge: 0.518,
      PyroDMGBonus: 0.466,
      ElectroDMGBonus: 0.466,
      CryoDMGBonus: 0.466,
      HydroDMGBonus: 0.466,
      DendroDMGBonus: 0.466,
      AnemoDMGBonus: 0.466,
      GeoDMGBonus: 0.466,
      PhysicalDMGBonus: 0.583,
      CritRate: 0.311,
      CritDMG: 0.622,
      HealingBonus: 0.359,
    },
  },
  4: {
    0: {
      FlatHP: 645,
      FlatATK: 42,
      HPPercent: 0.063,
      ATKPercent: 0.063,
      DEFPercent: 0.079,
      ElementalMastery: 25.2,
      EnergyRecharge: 0.07,
      PyroDMGBonus: 0.063,
      ElectroDMGBonus: 0.063,
      CryoDMGBonus: 0.063,
      HydroDMGBonus: 0.063,
      DendroDMGBonus: 0.063,
      AnemoDMGBonus: 0.063,
      GeoDMGBonus: 0.063,
      PhysicalDMGBonus: 0.079,
      CritRate: 0.042,
      CritDMG: 0.084,
      HealingBonus: 0.048,
    },
    4: {
      FlatHP: 828,
      FlatATK: 54,
      HPPercent: 0.081,
      ATKPercent: 0.081,
      DEFPercent: 0.101,
      ElementalMastery: 32.3,
      EnergyRecharge: 0.09,
      PyroDMGBonus: 0.081,
      ElectroDMGBonus: 0.081,
      CryoDMGBonus: 0.081,
      HydroDMGBonus: 0.081,
      DendroDMGBonus: 0.081,
      AnemoDMGBonus: 0.081,
      GeoDMGBonus: 0.081,
      PhysicalDMGBonus: 0.101,
      CritRate: 0.054,
      CritDMG: 0.108,
      HealingBonus: 0.062,
    },
    8: {
      FlatHP: 1011,
      FlatATK: 66,
      HPPercent: 0.099,
      ATKPercent: 0.099,
      DEFPercent: 0.123,
      ElementalMastery: 39.4,
      EnergyRecharge: 0.11,
      PyroDMGBonus: 0.099,
      ElectroDMGBonus: 0.099,
      CryoDMGBonus: 0.099,
      HydroDMGBonus: 0.099,
      DendroDMGBonus: 0.099,
      AnemoDMGBonus: 0.099,
      GeoDMGBonus: 0.099,
      PhysicalDMGBonus: 0.123,
      CritRate: 0.066,
      CritDMG: 0.131,
      HealingBonus: 0.076,
    },
    12: {
      FlatHP: 1194,
      FlatATK: 78,
      HPPercent: 0.116,
      ATKPercent: 0.116,
      DEFPercent: 0.146,
      ElementalMastery: 46.6,
      EnergyRecharge: 0.129,
      PyroDMGBonus: 0.116,
      ElectroDMGBonus: 0.116,
      CryoDMGBonus: 0.116,
      HydroDMGBonus: 0.116,
      DendroDMGBonus: 0.116,
      AnemoDMGBonus: 0.116,
      GeoDMGBonus: 0.116,
      PhysicalDMGBonus: 0.146,
      CritRate: 0.078,
      CritDMG: 0.155,
      HealingBonus: 0.09,
    },
    16: {
      FlatHP: 1377,
      FlatATK: 90,
      HPPercent: 0.134,
      ATKPercent: 0.134,
      DEFPercent: 0.168,
      ElementalMastery: 53.7,
      EnergyRecharge: 0.149,
      PyroDMGBonus: 0.134,
      ElectroDMGBonus: 0.134,
      CryoDMGBonus: 0.134,
      HydroDMGBonus: 0.134,
      DendroDMGBonus: 0.134,
      AnemoDMGBonus: 0.134,
      GeoDMGBonus: 0.134,
      PhysicalDMGBonus: 0.168,
      CritRate: 0.09,
      CritDMG: 0.179,
      HealingBonus: 0.103,
    },
    20: {
      FlatHP: 3571,
      FlatATK: 232,
      HPPercent: 0.348,
      ATKPercent: 0.348,
      DEFPercent: 0.435,
      ElementalMastery: 139.3,
      EnergyRecharge: 0.387,
      PyroDMGBonus: 0.348,
      ElectroDMGBonus: 0.348,
      CryoDMGBonus: 0.348,
      HydroDMGBonus: 0.348,
      DendroDMGBonus: 0.348,
      AnemoDMGBonus: 0.348,
      GeoDMGBonus: 0.348,
      PhysicalDMGBonus: 0.435,
      CritRate: 0.232,
      CritDMG: 0.464,
      HealingBonus: 0.268,
    },
  },
  3: {
    0: {
      FlatHP: 430,
      FlatATK: 28,
      HPPercent: 0.052,
      ATKPercent: 0.052,
      DEFPercent: 0.066,
      ElementalMastery: 21,
      EnergyRecharge: 0.058,
      PyroDMGBonus: 0.052,
      ElectroDMGBonus: 0.052,
      CryoDMGBonus: 0.052,
      HydroDMGBonus: 0.052,
      DendroDMGBonus: 0.052,
      AnemoDMGBonus: 0.052,
      GeoDMGBonus: 0.052,
      PhysicalDMGBonus: 0.066,
      CritRate: 0.035,
      CritDMG: 0.07,
      HealingBonus: 0.04,
    },
    4: {
      FlatHP: 552,
      FlatATK: 36,
      HPPercent: 0.067,
      ATKPercent: 0.067,
      DEFPercent: 0.084,
      ElementalMastery: 26.9,
      EnergyRecharge: 0.075,
      PyroDMGBonus: 0.067,
      ElectroDMGBonus: 0.067,
      CryoDMGBonus: 0.067,
      HydroDMGBonus: 0.067,
      DendroDMGBonus: 0.067,
      AnemoDMGBonus: 0.067,
      GeoDMGBonus: 0.067,
      PhysicalDMGBonus: 0.084,
      CritRate: 0.045,
      CritDMG: 0.09,
      HealingBonus: 0.052,
    },
    8: {
      FlatHP: 674,
      FlatATK: 44,
      HPPercent: 0.082,
      ATKPercent: 0.082,
      DEFPercent: 0.103,
      ElementalMastery: 32.9,
      EnergyRecharge: 0.091,
      PyroDMGBonus: 0.082,
      ElectroDMGBonus: 0.082,
      CryoDMGBonus: 0.082,
      HydroDMGBonus: 0.082,
      DendroDMGBonus: 0.082,
      AnemoDMGBonus: 0.082,
      GeoDMGBonus: 0.082,
      PhysicalDMGBonus: 0.103,
      CritRate: 0.055,
      CritDMG: 0.11,
      HealingBonus: 0.063,
    },
    12: {
      FlatHP: 796,
      FlatATK: 52,
      HPPercent: 0.097,
      ATKPercent: 0.097,
      DEFPercent: 0.121,
      ElementalMastery: 38.8,
      EnergyRecharge: 0.108,
      PyroDMGBonus: 0.097,
      ElectroDMGBonus: 0.097,
      CryoDMGBonus: 0.097,
      HydroDMGBonus: 0.097,
      DendroDMGBonus: 0.097,
      AnemoDMGBonus: 0.097,
      GeoDMGBonus: 0.097,
      PhysicalDMGBonus: 0.121,
      CritRate: 0.065,
      CritDMG: 0.129,
      HealingBonus: 0.075,
    },
    16: {
      FlatHP: 918,
      FlatATK: 60,
      HPPercent: 0.112,
      ATKPercent: 0.112,
      DEFPercent: 0.14,
      ElementalMastery: 44.8,
      EnergyRecharge: 0.124,
      PyroDMGBonus: 0.112,
      ElectroDMGBonus: 0.112,
      CryoDMGBonus: 0.112,
      HydroDMGBonus: 0.112,
      DendroDMGBonus: 0.112,
      AnemoDMGBonus: 0.112,
      GeoDMGBonus: 0.112,
      PhysicalDMGBonus: 0.14,
      CritRate: 0.075,
      CritDMG: 0.149,
      HealingBonus: 0.086,
    },
    20: {
      FlatHP: 1893,
      FlatATK: 123,
      HPPercent: 0.231,
      ATKPercent: 0.231,
      DEFPercent: 0.288,
      ElementalMastery: 92.3,
      EnergyRecharge: 0.256,
      PyroDMGBonus: 0.231,
      ElectroDMGBonus: 0.231,
      CryoDMGBonus: 0.231,
      HydroDMGBonus: 0.231,
      DendroDMGBonus: 0.231,
      AnemoDMGBonus: 0.231,
      GeoDMGBonus: 0.231,
      PhysicalDMGBonus: 0.288,
      CritRate: 0.154,
      CritDMG: 0.308,
      HealingBonus: 0.178,
    },
  },
  2: {
    0: {
      FlatHP: 258,
      FlatATK: 17,
      HPPercent: 0.042,
      ATKPercent: 0.042,
      DEFPercent: 0.052,
      ElementalMastery: 16.8,
      EnergyRecharge: 0.047,
      PyroDMGBonus: 0.042,
      ElectroDMGBonus: 0.042,
      CryoDMGBonus: 0.042,
      HydroDMGBonus: 0.042,
      DendroDMGBonus: 0.042,
      AnemoDMGBonus: 0.042,
      GeoDMGBonus: 0.042,
      PhysicalDMGBonus: 0.052,
      CritRate: 0.028,
      CritDMG: 0.056,
      HealingBonus: 0.032,
    },
    4: {
      FlatHP: 331,
      FlatATK: 22,
      HPPercent: 0.054,
      ATKPercent: 0.054,
      DEFPercent: 0.067,
      ElementalMastery: 21.5,
      EnergyRecharge: 0.06,
      PyroDMGBonus: 0.054,
      ElectroDMGBonus: 0.054,
      CryoDMGBonus: 0.054,
      HydroDMGBonus: 0.054,
      DendroDMGBonus: 0.054,
      AnemoDMGBonus: 0.054,
      GeoDMGBonus: 0.054,
      PhysicalDMGBonus: 0.067,
      CritRate: 0.036,
      CritDMG: 0.072,
      HealingBonus: 0.041,
    },
  },
  1: {
    0: {
      FlatHP: 129,
      FlatATK: 8,
      HPPercent: 0.031,
      ATKPercent: 0.031,
      DEFPercent: 0.039,
      ElementalMastery: 12.6,
      EnergyRecharge: 0.035,
      PyroDMGBonus: 0.031,
      ElectroDMGBonus: 0.031,
      CryoDMGBonus: 0.031,
      HydroDMGBonus: 0.031,
      DendroDMGBonus: 0.031,
      AnemoDMGBonus: 0.031,
      GeoDMGBonus: 0.031,
      PhysicalDMGBonus: 0.039,
      CritRate: 0.021,
      CritDMG: 0.042,
      HealingBonus: 0.024,
    },
    4: {
      FlatHP: 178,
      FlatATK: 12,
      HPPercent: 0.043,
      ATKPercent: 0.043,
      DEFPercent: 0.054,
      ElementalMastery: 17.3,
      EnergyRecharge: 0.048,
      PyroDMGBonus: 0.043,
      ElectroDMGBonus: 0.043,
      CryoDMGBonus: 0.043,
      HydroDMGBonus: 0.043,
      DendroDMGBonus: 0.043,
      AnemoDMGBonus: 0.043,
      GeoDMGBonus: 0.043,
      PhysicalDMGBonus: 0.054,
      CritRate: 0.029,
      CritDMG: 0.058,
      HealingBonus: 0.033,
    },
  },
};